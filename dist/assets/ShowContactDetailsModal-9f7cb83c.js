var S=Object.freeze,Z=Object.defineProperty;var _=(e,a)=>S(Z(e,"raw",{value:S(a||e.slice())}));import{ar as G,as as J,b as d,at as Q,au as X,av as ee,B as $,aw as te,a7 as D,ax as V,ay as ne,Z as ae,az as h,d as se,r as b,o as oe,g as ie,a as r,w as l,n as re,C as ue,D as ce,i as I,p as le,x as de,f as A,E as O,aA as _e,t as U,aB as fe,aC as he,q as ge,F as pe,O as me,_ as ve}from"./index-cd9c2231.js";import{c as Ce}from"./index-d10a0dc9.js";import{p as we,a as Ie}from"./alerts-35ab0858.js";function z(e){return G()?(J(e),!0):!1}function q(e){return typeof e=="function"?e():d(e)}const $e=typeof window<"u"&&typeof document<"u",ye=Object.prototype.toString,qe=e=>ye.call(e)==="[object Object]",K=()=>{};function be(...e){if(e.length!==1)return Q(...e);const a=e[0];return typeof a=="function"?X(ee(()=>({get:a,set:K}))):$(a)}function P(e){var a;const t=q(e);return(a=t==null?void 0:t.$el)!=null?a:t}const H=$e?window:void 0;function B(...e){let a,t,o,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([t,o,i]=e,a=H):[a,t,o,i]=e,!a)return K;Array.isArray(t)||(t=[t]),Array.isArray(o)||(o=[o]);const n=[],u=()=>{n.forEach(c=>c()),n.length=0},m=(c,f,g,p)=>(c.addEventListener(f,g,p),()=>c.removeEventListener(f,g,p)),v=D(()=>[P(a),q(i)],([c,f])=>{if(u(),!c)return;const g=qe(f)?{...f}:f;n.push(...t.flatMap(p=>o.map(s=>m(c,p,s,g))))},{immediate:!0,flush:"post"}),C=()=>{v(),u()};return z(C),C}const Oe=500;function Ee(e,a,t){var o,i;const n=V(()=>P(e));let u;function m(){u&&(clearTimeout(u),u=void 0)}function v(c){var f,g,p,s;(f=t==null?void 0:t.modifiers)!=null&&f.self&&c.target!==n.value||(m(),(g=t==null?void 0:t.modifiers)!=null&&g.prevent&&c.preventDefault(),(p=t==null?void 0:t.modifiers)!=null&&p.stop&&c.stopPropagation(),u=setTimeout(()=>a(c),(s=t==null?void 0:t.delay)!=null?s:Oe))}const C={capture:(o=t==null?void 0:t.modifiers)==null?void 0:o.capture,once:(i=t==null?void 0:t.modifiers)==null?void 0:i.once};B(n,"pointerdown",v,C),B(n,["pointerup","pointerleave"],m,C)}function De(){const e=$(!1);return ne()&&ae(()=>{e.value=!0}),e}function Se(e){const a=De();return V(()=>(a.value,!!e()))}function Ne(e={}){const{interimResults:a=!0,continuous:t=!0,window:o=H}=e,i=be(e.lang||"en-US"),n=$(!1),u=$(!1),m=$(""),v=te(void 0),C=(w=!n.value)=>{n.value=w},c=()=>{n.value=!0},f=()=>{n.value=!1},g=o&&(o.SpeechRecognition||o.webkitSpeechRecognition),p=Se(()=>g);let s;return p.value&&(s=new g,s.continuous=t,s.interimResults=a,s.lang=q(i),s.onstart=()=>{u.value=!1},D(i,w=>{s&&!n.value&&(s.lang=w)}),s.onresult=w=>{const Y=Array.from(w.results).map(y=>(u.value=y.isFinal,y[0])).map(y=>y.transcript).join("");m.value=Y,v.value=void 0},s.onerror=w=>{v.value=w},s.onend=()=>{n.value=!1,s.lang=q(i)},D(n,()=>{n.value?s.start():s.stop()})),z(()=>{n.value=!1}),{isSupported:p,isListening:n,isFinal:u,recognition:s,result:m,error:v,toggle:C,start:c,stop:f}}var W;const ke=h(W||(W=_(["\n    query getUser($user_id: uuid!) {\n        userdetails(\n            limit: 1,\n            where: {\n                user_id: {\n                    _eq: $user_id\n                }\n            }) {\n            id\n            username\n            user_id\n            last_login\n            email\n            created_at\n            avatar_url\n        }\n    }"])));var R;const Me=h(R||(R=_(["\n    query countNumberOfUsersWithIds($user_id: uuid!) {\n        userdetails_aggregate(where: {user_id: {_eq: $user_id}}) {\n            aggregate {\n                count(columns: id)\n            }\n        }\n    }"])));var T;const Le=h(T||(T=_(["\n    query getContactsOfUserWithId($user_id: uuid!) {\n        contacts(where: {user_id: {_eq: $user_id}}) {\n            contact\n        }\n    }"])));var x;const je=h(x||(x=_(["\n    query countNumberOfContactsOfUserWithId($user_id: uuid!) {\n        contacts_aggregate(where: {user_id: {_eq: $user_id}}) {\n            aggregate {\n                count(columns: contact, distinct: true)\n            }\n        }\n    }\n"])));var E;const Fe=h(E||(E=_(["\n    query counterNumberOfChatsBetweenIDAndContact($user_id: uuid!, $contact: uuid!){\n        chats_aggregate(where: {\n            user_id: {\n                _eq: $user_id\n            },\n            contact: {\n                _eq: $contact\n            }}) {\n            aggregate {\n                count(columns: id, distinct: true)\n            }\n        }\n    }"])));var N;const Ve=h(N||(N=_(["\n    query getDialoguesBetweenIDAndContact($user_id: uuid!, $contact: uuid!){\n        chats(where: {\n            user_id: {\n                _eq: $user_id\n            },\n            contact: {\n                _eq: $contact\n            }}) {\n            user_id\n            title\n            speech_to_text\n            created_at\n            contact\n            chips\n            chat_id\n            audio\n        }\n    }"])));var k;const ze=h(k||(k=_(["\n    subscription getDialoguesBetweenIDAndContact($user_id: uuid!, $contact: uuid!){\n        chats(limit: 1, order_by: {id: desc}, where: {\n            user_id: {\n                _eq: $user_id\n            },\n            contact: {\n                _eq: $contact\n            }}) {\n            id\n            user_id\n            title\n            speech_to_text\n            created_at\n            contact\n            chips\n            chat_id\n            audio\n        }\n    }"])));var M;const Ke=h(M||(M=_(["\n    query getChipsOfChatId($chat_id: uuid!){\n        chats(where: {chat_id: {_eq: $chat_id}}) {\n            chips\n        }\n    }"])));var L;const Pe=h(L||(L=_(["\n    query getChipsWithId($ids: [Int!]!) {\n        chips(where: {id: {_in: $ids}}) {\n            chip\n        }\n    }"])));var j;const He=h(j||(j=_(["\n    query getChatIdOfChatWithTitle($title: String!) {\n        chats(where: {title: {_eq: $title}}) {\n            chat_id\n        }\n    }"])));var F;const Ye=h(F||(F=_(["\n    \n    query getChatsOfUserBetweenUserWithIdAndUserWithAnotherIdInTimeRange($user_id: uuid!, $contact: uuid!, $start: timestamptz!, $end: timestamptz!) {\n        chats(where: {user_id: {_eq: $user_id}, \n            _and: {created_at: {_gte: $start}, \n                _and: {created_at: {_lte: $end}, \n                    _and: {contact: {_eq: $contact}}}}}) {\n            chat_id\n        }\n    }"]))),Ae=["src"],Ue={align:"center",id:"contactDetails"},Be=se({__name:"ShowContactDetailsModal",props:{avatarUrl:String,userId:String,email:String},setup(e){const a=()=>me.dismiss(null,"cancel");function t(o){try{Ce(o),we("Kopiert!")}catch(i){Ie("Kopieren fehlgeschlagen!")}}return(o,i)=>{const n=b("ion-icon"),u=b("ion-label"),m=b("ion-list");return oe(),ie(pe,null,[r(d(de),null,{default:l(()=>[r(d(re),null,{default:l(()=>[r(d(ue),{slot:"start"},{default:l(()=>[r(d(ce),{color:"medium",onClick:a},{default:l(()=>[I("Abbrechen")]),_:1})]),_:1}),r(d(le),null,{default:l(()=>[I("Kontakt Details")]),_:1})]),_:1})]),_:1}),r(d(ge),{class:"ion-padding"},{default:l(()=>[A("img",{src:e.avatarUrl},null,8,Ae),A("div",Ue,[r(m,null,{default:l(()=>[r(d(O),{onClick:i[0]||(i[0]=v=>t(e.userId))},{default:l(()=>[r(n,{"aria-hidden":"true",icon:d(_e),slot:"start"},null,8,["icon"]),r(u,null,{default:l(()=>[I(U(e.userId),1)]),_:1})]),_:1}),r(d(O),{onClick:i[1]||(i[1]=v=>t(e.email))},{default:l(()=>[r(n,{"aria-hidden":"true",icon:d(fe),slot:"start"},null,8,["icon"]),r(u,null,{default:l(()=>[I(U(e.email),1)]),_:1})]),_:1}),r(d(O),null,{default:l(()=>[r(n,{"aria-hidden":"true",icon:d(he),slot:"start"},null,8,["icon"]),r(u,null,{default:l(()=>[I("Foobar")]),_:1})]),_:1})]),_:1})])]),_:1})],64)}}});const Ze=ve(Be,[["__scopeId","data-v-6a924240"]]);export{Ze as S,Ve as a,Pe as b,Fe as c,He as d,Ye as e,ze as f,Ke as g,je as h,ke as i,Le as j,Me as k,Ee as o,Ne as u};
