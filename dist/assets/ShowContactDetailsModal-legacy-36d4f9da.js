!function(){function t(n){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(n)}var n,e,r,o,i,a,u,c,l,s,d;function f(t,n){return n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))}function p(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||g(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function y(n,e,r){return(e=function(n){var e=function(n,e){if("object"!==t(n)||null===n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var o=r.call(n,e||"default");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===t(e)?e:String(e)}(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function m(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;c=!1}else for(;!(c=(r=i.call(e)).done)&&(u.push(r.value),u.length!==n);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,n)||g(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,n){if(t){if("string"==typeof t)return h(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?h(t,n):void 0}}function h(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}System.register(["./index-legacy-086f5e54.js","./methods-legacy-5d482884.js"],(function(t,g){"use strict";var h,b,_,w,C,S,$,O,D,A,j,q,x,I,E,U,P,R,k,T,z,B,N,W,F,L,M,K,H,Q,X,G,J,V,Y,Z,tt,nt;return{setters:[function(t){h=t.as,b=t.at,_=t.b,w=t.au,C=t.av,S=t.aw,$=t.B,O=t.ax,D=t.a8,A=t.ay,j=t.az,q=t.$,x=t.aA,I=t.Q,E=t.d,U=t.r,P=t.o,R=t.g,k=t.a,T=t.w,z=t.n,B=t.C,N=t.D,W=t.i,F=t.p,L=t.x,M=t.f,K=t.E,H=t.aB,Q=t.t,X=t.aC,G=t.aD,J=t.q,V=t.F,Y=t.O,Z=t._},function(t){tt=t.p,nt=t.a}],execute:function(){var g=document.createElement("style");function et(t){return!!h()&&(b(t),!0)}function rt(t){return"function"==typeof t?t():_(t)}g.textContent="#contactDetails ion-text[data-v-6a924240]{font-size:30px;margin:10px}\n",document.head.appendChild(g),t({o:function(t,n,e){var r,o,i,a=A((function(){return ct(t)}));function u(){i&&(clearTimeout(i),i=void 0)}var c={capture:null==(r=null==e?void 0:e.modifiers)?void 0:r.capture,once:null==(o=null==e?void 0:e.modifiers)?void 0:o.once};st(a,"pointerdown",(function(t){var r,o,c,l;(null==(r=null==e?void 0:e.modifiers)?void 0:r.self)&&t.target!==a.value||(u(),(null==(o=null==e?void 0:e.modifiers)?void 0:o.prevent)&&t.preventDefault(),(null==(c=null==e?void 0:e.modifiers)?void 0:c.stop)&&t.stopPropagation(),i=setTimeout((function(){return n(t)}),null!=(l=null==e?void 0:e.delay)?l:dt))}),c),st(a,["pointerup","pointerleave"],u,c)},u:function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.interimResults,r=void 0===e||e,o=n.continuous,i=void 0===o||o,a=n.window,u=void 0===a?lt:a,c=function(){if(1!==arguments.length)return w.apply(void 0,arguments);var t=arguments.length<=0?void 0:arguments[0];return"function"==typeof t?C(S((function(){return{get:t,set:ut}}))):$(t)}(n.lang||"en-US"),l=$(!1),s=$(!1),d=$(""),f=O(void 0),p=u&&(u.SpeechRecognition||u.webkitSpeechRecognition),v=(y=function(){return p},m=function(){var t=$(!1);return j()&&q((function(){t.value=!0})),t}(),A((function(){return m.value,Boolean(y())})));var y,m;v.value&&((t=new p).continuous=i,t.interimResults=r,t.lang=rt(c),t.onstart=function(){s.value=!1},D(c,(function(n){t&&!l.value&&(t.lang=n)})),t.onresult=function(t){var n=Array.from(t.results).map((function(t){return s.value=t.isFinal,t[0]})).map((function(t){return t.transcript})).join("");d.value=n,f.value=void 0},t.onerror=function(t){f.value=t},t.onend=function(){l.value=!1,t.lang=rt(c)},D(l,(function(){l.value?t.start():t.stop()})));return et((function(){l.value=!1})),{isSupported:v,isListening:l,isFinal:s,recognition:t,result:d,error:f,toggle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!l.value;l.value=t},start:function(){l.value=!0},stop:function(){l.value=!1}}}});var ot="undefined"!=typeof window&&"undefined"!=typeof document,it=Object.prototype.toString,at=function(t){return"[object Object]"===it.call(t)},ut=function(){};function ct(t){var n,e=rt(t);return null!=(n=null==e?void 0:e.$el)?n:e}var lt=ot?window:void 0;function st(){for(var t,n,e,r,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];if("string"==typeof i[0]||Array.isArray(i[0])?(n=i[0],e=i[1],r=i[2],t=lt):(t=i[0],n=i[1],e=i[2],r=i[3]),!t)return ut;Array.isArray(n)||(n=[n]),Array.isArray(e)||(e=[e]);var u=[],c=function(){u.forEach((function(t){return t()})),u.length=0},l=D((function(){return[ct(t),rt(r)]}),(function(t){var r=m(t,2),o=r[0],i=r[1];if(c(),o){var a=at(i)?function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?v(Object(e),!0).forEach((function(n){y(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):v(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}({},i):i;u.push.apply(u,p(n.flatMap((function(t){return e.map((function(n){return function(t,n,e,r){return t.addEventListener(n,e,r),function(){return t.removeEventListener(n,e,r)}}(o,t,n,a)}))}))))}}),{immediate:!0,flush:"post"}),s=function(){l(),c()};return et(s),s}var dt=500;t("j",x(n||(n=f(["\n    query getUser($user_id: uuid!) {\n        userdetails(\n            limit: 1,\n            where: {\n                user_id: {\n                    _eq: $user_id\n                }\n            }) {\n            id\n            username\n            user_id\n            last_login\n            email\n            created_at\n            avatar_url\n        }\n    }"])))),t("l",x(e||(e=f(["\n    query countNumberOfUsersWithIds($user_id: uuid!) {\n        userdetails_aggregate(where: {user_id: {_eq: $user_id}}) {\n            aggregate {\n                count(columns: id)\n            }\n        }\n    }"])))),t("k",x(r||(r=f(["\n    query getContactsOfUserWithId($user_id: uuid!) {\n        contacts(where: {user_id: {_eq: $user_id}}) {\n            contact\n        }\n    }"])))),t("i",x(o||(o=f(["\n    query countNumberOfContactsOfUserWithId($user_id: uuid!) {\n        contacts_aggregate(where: {user_id: {_eq: $user_id}}) {\n            aggregate {\n                count(columns: contact, distinct: true)\n            }\n        }\n    }\n"])))),t("a",x(i||(i=f(["\n    query counterNumberOfChatsBetweenIDAndContact($user_id: uuid!, $contact: uuid!){\n        chats_aggregate(where: {\n            user_id: {\n                _eq: $user_id\n            },\n            contact: {\n                _eq: $contact\n            }}) {\n            aggregate {\n                count(columns: id, distinct: true)\n            }\n        }\n    }"])))),t("b",x(a||(a=f(["\n    query getDialoguesBetweenIDAndContact($user_id: uuid!, $contact: uuid!){\n        chats(where: {\n            user_id: {\n                _eq: $user_id\n            },\n            contact: {\n                _eq: $contact\n            }}) {\n            user_id\n            title\n            speech_to_text\n            created_at\n            contact\n            chips\n            chat_id\n            audio\n        }\n    }"])))),t("h",x(u||(u=f(["\n    subscription getDialoguesBetweenIDAndContact($user_id: uuid!, $contact: uuid!){\n        chats(limit: 1, order_by: {id: desc}, where: {\n            user_id: {\n                _eq: $user_id\n            },\n            contact: {\n                _eq: $contact\n            }}) {\n            id\n            user_id\n            title\n            speech_to_text\n            created_at\n            contact\n            chips\n            chat_id\n            audio\n        }\n    }"])))),t("g",x(c||(c=f(["\n    query getChipsOfChatId($chat_id: uuid!){\n        chats(where: {chat_id: {_eq: $chat_id}}) {\n            chips\n        }\n    }"])))),t("d",x(l||(l=f(["\n    query getChipsWithId($ids: [Int!]!) {\n        chips(where: {id: {_in: $ids}}) {\n            chip\n        }\n    }"])))),t("e",x(s||(s=f(["\n    query getChatIdOfChatWithTitle($title: String!) {\n        chats(where: {title: {_eq: $title}}) {\n            chat_id\n        }\n    }"])))),t("f",x(d||(d=f(["\n    \n    query getChatsOfUserBetweenUserWithIdAndUserWithAnotherIdInTimeRange($user_id: uuid!, $contact: uuid!, $start: timestamptz!, $end: timestamptz!) {\n        chats(where: {user_id: {_eq: $user_id}, \n            _and: {created_at: {_gte: $start}, \n                _and: {created_at: {_lte: $end}, \n                    _and: {contact: {_eq: $contact}}}}}) {\n            chat_id\n        }\n    }"]))));var ft=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var n=document.activeElement,e=[],r=0;r<t.rangeCount;r++)e.push(t.getRangeAt(r));switch(n.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":n.blur();break;default:n=null}return t.removeAllRanges(),function(){"Caret"===t.type&&t.removeAllRanges(),t.rangeCount||e.forEach((function(n){t.addRange(n)})),n&&n.focus()}},pt={"text/plain":"Text","text/html":"Url",default:"Text"};var vt=function(t,n){var e,r,o,i,a,u,c=!1;n||(n={}),e=n.debug||!1;try{if(o=ft(),i=document.createRange(),a=document.getSelection(),(u=document.createElement("span")).textContent=t,u.ariaHidden="true",u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",(function(r){if(r.stopPropagation(),n.format)if(r.preventDefault(),void 0===r.clipboardData){e&&console.warn("unable to use e.clipboardData"),e&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=pt[n.format]||pt.default;window.clipboardData.setData(o,t)}else r.clipboardData.clearData(),r.clipboardData.setData(n.format,t);n.onCopy&&(r.preventDefault(),n.onCopy(r.clipboardData))})),document.body.appendChild(u),i.selectNodeContents(u),a.addRange(i),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");c=!0}catch(l){e&&console.error("unable to copy using execCommand: ",l),e&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(n.format||"text",t),n.onCopy&&n.onCopy(window.clipboardData),c=!0}catch(l){e&&console.error("unable to copy using clipboardData: ",l),e&&console.error("falling back to prompt"),r=function(t){var n=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,n)}("message"in n?n.message:"Copy to clipboard: #{key}, Enter"),window.prompt(r,t)}}finally{a&&("function"==typeof a.removeRange?a.removeRange(i):a.removeAllRanges()),u&&document.body.removeChild(u),o()}return c},yt=t("c",I(vt)),mt=["src"],gt={align:"center",id:"contactDetails"},ht=E({__name:"ShowContactDetailsModal",props:{avatarUrl:String,userId:String,email:String},setup:function(t){var n=function(){return Y.dismiss(null,"cancel")};function e(t){try{yt(t),tt("Kopiert!")}catch(n){nt("Kopieren fehlgeschlagen!")}}return function(r,o){var i=U("ion-icon"),a=U("ion-label"),u=U("ion-list");return P(),R(V,null,[k(_(L),null,{default:T((function(){return[k(_(z),null,{default:T((function(){return[k(_(B),{slot:"start"},{default:T((function(){return[k(_(N),{color:"medium",onClick:n},{default:T((function(){return[W("Abbrechen")]})),_:1})]})),_:1}),k(_(F),null,{default:T((function(){return[W("Kontakt Details")]})),_:1})]})),_:1})]})),_:1}),k(_(J),{class:"ion-padding"},{default:T((function(){return[M("img",{src:t.avatarUrl},null,8,mt),M("div",gt,[k(u,null,{default:T((function(){return[k(_(K),{onClick:o[0]||(o[0]=function(n){return e(t.userId)})},{default:T((function(){return[k(i,{"aria-hidden":"true",icon:_(H),slot:"start"},null,8,["icon"]),k(a,null,{default:T((function(){return[W(Q(t.userId),1)]})),_:1})]})),_:1}),k(_(K),{onClick:o[1]||(o[1]=function(n){return e(t.email)})},{default:T((function(){return[k(i,{"aria-hidden":"true",icon:_(X),slot:"start"},null,8,["icon"]),k(a,null,{default:T((function(){return[W(Q(t.email),1)]})),_:1})]})),_:1}),k(_(K),null,{default:T((function(){return[k(i,{"aria-hidden":"true",icon:_(G),slot:"start"},null,8,["icon"]),k(a,null,{default:T((function(){return[W("Foobar")]})),_:1})]})),_:1})]})),_:1})])]})),_:1})],64)}}});t("S",Z(ht,[["__scopeId","data-v-6a924240"]]))}}}))}();
