var q=Object.freeze,X=Object.defineProperty;var _=(e,t)=>q(X(e,"raw",{value:q(t||e.slice())}));import{au as Y,av as J,b as p,aw as Z,ax as ee,ay as te,B as b,az as ne,aA as A,aB as z,aC as ae,ad as oe,Q as re,aD as m,d as se,r as $,o as ie,g as ce,a as l,w as g,n as ue,C as le,D as de,i as w,p as fe,x as ge,f as O,E as S,aE as pe,t as U,aF as _e,aG as me,q as he,F as ve,O as ye,_ as Ce}from"./index-2f13bec8.js";import{p as we,a as be}from"./methods-607f4662.js";function K(e){return Y()?(J(e),!0):!1}function I(e){return typeof e=="function"?e():p(e)}const De=typeof window<"u"&&typeof document<"u",Ie=Object.prototype.toString,$e=e=>Ie.call(e)==="[object Object]",V=()=>{};function Se(...e){if(e.length!==1)return Z(...e);const t=e[0];return typeof t=="function"?ee(te(()=>({get:t,set:V}))):b(t)}function H(e){var t;const n=I(e);return(t=n==null?void 0:n.$el)!=null?t:n}const G=De?window:void 0;function R(...e){let t,n,s,c;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,s,c]=e,t=G):[t,n,s,c]=e,!t)return V;Array.isArray(n)||(n=[n]),Array.isArray(s)||(s=[s]);const a=[],i=()=>{a.forEach(r=>r()),a.length=0},o=(r,d,h,v)=>(r.addEventListener(d,h,v),()=>r.removeEventListener(d,h,v)),f=A(()=>[H(t),I(c)],([r,d])=>{if(i(),!r)return;const h=$e(d)?{...d}:d;a.push(...n.flatMap(v=>s.map(u=>o(r,v,u,h))))},{immediate:!0,flush:"post"}),y=()=>{f(),i()};return K(y),y}const Ae=500;function Pe(e,t,n){var s,c;const a=z(()=>H(e));let i;function o(){i&&(clearTimeout(i),i=void 0)}function f(r){var d,h,v,u;(d=n==null?void 0:n.modifiers)!=null&&d.self&&r.target!==a.value||(o(),(h=n==null?void 0:n.modifiers)!=null&&h.prevent&&r.preventDefault(),(v=n==null?void 0:n.modifiers)!=null&&v.stop&&r.stopPropagation(),i=setTimeout(()=>t(r),(u=n==null?void 0:n.delay)!=null?u:Ae))}const y={capture:(s=n==null?void 0:n.modifiers)==null?void 0:s.capture,once:(c=n==null?void 0:n.modifiers)==null?void 0:c.once};R(a,"pointerdown",f,y),R(a,["pointerup","pointerleave"],o,y)}function qe(){const e=b(!1);return ae()&&oe(()=>{e.value=!0}),e}function Oe(e){const t=qe();return z(()=>(t.value,!!e()))}function ze(e={}){const{interimResults:t=!0,continuous:n=!0,window:s=G}=e,c=Se(e.lang||"en-US"),a=b(!1),i=b(!1),o=b(""),f=ne(void 0),y=(C=!a.value)=>{a.value=C},r=()=>{a.value=!0},d=()=>{a.value=!1},h=s&&(s.SpeechRecognition||s.webkitSpeechRecognition),v=Oe(()=>h);let u;return v.value&&(u=new h,u.continuous=n,u.interimResults=t,u.lang=I(c),u.onstart=()=>{i.value=!1},A(c,C=>{u&&!a.value&&(u.lang=C)}),u.onresult=C=>{const Q=Array.from(C.results).map(D=>(i.value=D.isFinal,D[0])).map(D=>D.transcript).join("");o.value=Q,f.value=void 0},u.onerror=C=>{f.value=C},u.onend=()=>{a.value=!1,u.lang=I(c)},A(a,()=>{a.value?u.start():u.stop()})),K(()=>{a.value=!1}),{isSupported:v,isListening:a,isFinal:i,recognition:u,result:o,error:f,toggle:y,start:r,stop:d}}var Ue=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],s=0;s<e.rangeCount;s++)n.push(e.getRangeAt(s));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(c){e.addRange(c)}),t&&t.focus()}},Re=Ue,E={"text/plain":"Text","text/html":"Url",default:"Text"},Ee="Copy to clipboard: #{key}, Enter";function xe(e){var t=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function Te(e,t){var n,s,c,a,i,o,f=!1;t||(t={}),n=t.debug||!1;try{c=Re(),a=document.createRange(),i=document.getSelection(),o=document.createElement("span"),o.textContent=e,o.ariaHidden="true",o.style.all="unset",o.style.position="fixed",o.style.top=0,o.style.clip="rect(0, 0, 0, 0)",o.style.whiteSpace="pre",o.style.webkitUserSelect="text",o.style.MozUserSelect="text",o.style.msUserSelect="text",o.style.userSelect="text",o.addEventListener("copy",function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),typeof r.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var d=E[t.format]||E.default;window.clipboardData.setData(d,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))}),document.body.appendChild(o),a.selectNodeContents(o),i.addRange(a);var y=document.execCommand("copy");if(!y)throw new Error("copy command was unsuccessful");f=!0}catch(r){n&&console.error("unable to copy using execCommand: ",r),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),f=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),s=xe("message"in t?t.message:Ee),window.prompt(s,e)}}finally{i&&(typeof i.removeRange=="function"?i.removeRange(a):i.removeAllRanges()),o&&document.body.removeChild(o),c()}return f}var Be=Te;const We=re(Be);var x;const Ke=m(x||(x=_(["\n    query getUser($user_id: uuid!) {\n        userdetails(\n            limit: 1,\n            where: {\n                user_id: {\n                    _eq: $user_id\n                }\n            }) {\n            id\n            username\n            user_id\n            last_login\n            email\n            created_at\n            avatar_url\n        }\n    }"])));var T;const Ve=m(T||(T=_(["\n    query countNumberOfUsersWithIds($user_id: uuid!) {\n        userdetails_aggregate(where: {user_id: {_eq: $user_id}}) {\n            aggregate {\n                count(columns: id)\n            }\n        }\n    }"])));var B;const He=m(B||(B=_(["\n    query getContactsOfUserWithId($user_id: uuid!) {\n        contacts(where: {user_id: {_eq: $user_id}}) {\n            contact\n        }\n    }"])));var W;const Ge=m(W||(W=_(["\n    query countNumberOfContactsOfUserWithId($user_id: uuid!) {\n        contacts_aggregate(where: {user_id: {_eq: $user_id}}) {\n            aggregate {\n                count(columns: contact, distinct: true)\n            }\n        }\n    }\n"])));var k;const Qe=m(k||(k=_(["\n    query counterNumberOfChatsBetweenIDAndContact($user_id: uuid!, $contact: uuid!){\n        chats_aggregate(where: {\n            user_id: {\n                _eq: $user_id\n            },\n            contact: {\n                _eq: $contact\n            }}) {\n            aggregate {\n                count(columns: id, distinct: true)\n            }\n        }\n    }"])));var N;const Xe=m(N||(N=_(["\n    query getDialoguesBetweenIDAndContact($user_id: uuid!, $contact: uuid!){\n        chats(where: {\n            user_id: {\n                _eq: $user_id\n            },\n            contact: {\n                _eq: $contact\n            }}) {\n            user_id\n            title\n            speech_to_text\n            created_at\n            contact\n            chips\n            chat_id\n            audio\n        }\n    }"])));var M;const Ye=m(M||(M=_(["\n    subscription getDialoguesBetweenIDAndContact($user_id: uuid!, $contact: uuid!){\n        chats(limit: 1, order_by: {id: desc}, where: {\n            user_id: {\n                _eq: $user_id\n            },\n            contact: {\n                _eq: $contact\n            }}) {\n            id\n            user_id\n            title\n            speech_to_text\n            created_at\n            contact\n            chips\n            chat_id\n            audio\n        }\n    }"])));var F;const Je=m(F||(F=_(["\n    query getChipsOfChatId($chat_id: uuid!){\n        chats(where: {chat_id: {_eq: $chat_id}}) {\n            chips\n        }\n    }"])));var L;const Ze=m(L||(L=_(["\n    query getChipsWithId($ids: [Int!]!) {\n        chips(where: {id: {_in: $ids}}) {\n            chip\n        }\n    }"])));var j;const et=m(j||(j=_(["\n    query getChatIdOfChatWithTitle($title: String!) {\n        chats(where: {title: {_eq: $title}}) {\n            chat_id\n        }\n    }"])));var P;const tt=m(P||(P=_(["\n    \n    query getChatsOfUserBetweenUserWithIdAndUserWithAnotherIdInTimeRange($user_id: uuid!, $contact: uuid!, $start: timestamptz!, $end: timestamptz!) {\n        chats(where: {user_id: {_eq: $user_id}, \n            _and: {created_at: {_gte: $start}, \n                _and: {created_at: {_lte: $end}, \n                    _and: {contact: {_eq: $contact}}}}}) {\n            chat_id\n        }\n    }"]))),ke=["src"],Ne={align:"center",id:"contactDetails"},Me=se({__name:"ShowContactDetailsModal",props:{avatarUrl:String,userId:String,email:String},setup(e){const t=()=>ye.dismiss(null,"cancel");function n(s){try{We(s),we("Kopiert!")}catch(c){be("Kopieren fehlgeschlagen!")}}return(s,c)=>{const a=$("ion-icon"),i=$("ion-label"),o=$("ion-list");return ie(),ce(ve,null,[l(p(ge),null,{default:g(()=>[l(p(ue),null,{default:g(()=>[l(p(le),{slot:"start"},{default:g(()=>[l(p(de),{color:"medium",onClick:t},{default:g(()=>[w("Abbrechen")]),_:1})]),_:1}),l(p(fe),null,{default:g(()=>[w("Kontakt Details")]),_:1})]),_:1})]),_:1}),l(p(he),{class:"ion-padding"},{default:g(()=>[O("img",{src:e.avatarUrl},null,8,ke),O("div",Ne,[l(o,null,{default:g(()=>[l(p(S),{onClick:c[0]||(c[0]=f=>n(e.userId))},{default:g(()=>[l(a,{"aria-hidden":"true",icon:p(pe),slot:"start"},null,8,["icon"]),l(i,null,{default:g(()=>[w(U(e.userId),1)]),_:1})]),_:1}),l(p(S),{onClick:c[1]||(c[1]=f=>n(e.email))},{default:g(()=>[l(a,{"aria-hidden":"true",icon:p(_e),slot:"start"},null,8,["icon"]),l(i,null,{default:g(()=>[w(U(e.email),1)]),_:1})]),_:1}),l(p(S),null,{default:g(()=>[l(a,{"aria-hidden":"true",icon:p(me),slot:"start"},null,8,["icon"]),l(i,null,{default:g(()=>[w("Foobar")]),_:1})]),_:1})]),_:1})])]),_:1})],64)}}});const nt=Ce(Me,[["__scopeId","data-v-6a924240"]]);export{nt as S,Qe as a,Ze as b,We as c,et as d,tt as e,Je as f,Xe as g,Ye as h,Ge as i,Ke as j,He as k,Ve as l,Pe as o,ze as u};
